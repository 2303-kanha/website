<svg:svg xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.kite9.org/schema/adl'>
  <svg:defs>
    <svg:linearGradient id='risk-background' x1='0%' x2='0%' y1='0%' y2='100%'>
      <svg:stop offset='0%' stop-color='#FFF' />
      <svg:stop offset='100%' stop-color='#DDD' />
    </svg:linearGradient>
    
    <svg:filter id="dropshadow" height="130%">
      <svg:feGaussianBlur in="SourceAlpha" stdDeviation="1"/> 
      <svg:feOffset dx="2" dy="2" /> 
      <svg:feColorMatrix
        type="matrix"
        values="0 0 0 0 .5
                0 0 0 0 .5
                0 0 0 0 .5
                0 0 0 1 0" />
      <svg:feMerge> 
        <svg:feMergeNode/>
        <svg:feMergeNode in="SourceGraphic"/> 
      </svg:feMerge>
    </svg:filter>

  </svg:defs>
  
  <template id='communication'>
    <svg:path transform="scale(.5)" d="M80.5,49.2c0,1.6-1.3,2.9-2.9,2.9H43.1c-1.6,0-2.9-1.3-2.9-2.9c0-1.6,1.3-2.9,2.9-2.9h34.5C79.2,46.2,80.5,47.5,80.5,49.2z   M77.6,68.3H61.8c-1.6,0-2.9,1.3-2.9,2.9v0c0,1.6,1.3,2.9,2.9,2.9h15.8c1.6,0,2.9-1.3,2.9-2.9v0C80.5,69.6,79.2,68.3,77.6,68.3z   M97.8,60.2c0,7-2.5,13.8-7,19.4c0.8,1.6,2,2.8,3.4,3.7c1.5,1,2.2,2.7,1.8,4.4c-0.4,1.7-1.7,2.9-3.5,3.2c-1.2,0.2-2.4,0.3-3.6,0.3  c-3.6,0-6.9-0.7-9.9-2.2c-5.6,2.9-12,4.4-18.6,4.4c-20.6,0-37.4-14.9-37.4-33.2S39.7,27,60.3,27S97.8,41.9,97.8,60.2z M91.3,60.2  c0-14.8-13.9-26.8-31-26.8c-17.1,0-31,12-31,26.8c0,14.8,13.9,26.8,31,26.8c6.1,0,11.9-1.5,17-4.4l1.6-0.9l1.6,1  c1.7,1,3.6,1.7,5.7,2c-1-1.3-1.7-2.8-2.3-4.4l-0.7-1.8l1.3-1.4C89,72.1,91.3,66.3,91.3,60.2z M77.6,57.3H43.1  c-1.6,0-2.9,1.3-2.9,2.9c0,1.6,1.3,2.9,2.9,2.9h34.5c1.6,0,2.9-1.3,2.9-2.9C80.5,58.6,79.2,57.3,77.6,57.3z M60.6,20.6  C60.6,20.6,60.6,20.6,60.6,20.6c-5.3-8.3-15.5-14-27.2-14C16.2,6.6,2.2,18.8,2.2,33.9c0,6.5,2.6,12.5,6.9,17.2  c-0.8,2.2-2.3,4.6-4.9,6.4c-0.7,0.4-0.5,1.5,0.3,1.6c2.8,0.4,7.5,0.5,11.9-2.2c0,0,0,0,0,0C18.4,36.6,37.4,20.6,60.6,20.6z" />
  </template>
  
  <template id="image">
     <image-content style='kite9-usage: decal; kite9-type: svg; '  class="invisibility" />
  </template>
   
   <template id='feature' style='kite9-type: svg; '>
    <svg:g>
      <svg:path fill="#000000" d="M261.1,532.5v20h20.1v-20H261.1z M276.6,547.9h-10.9V537h10.9V547.9z" />
      <svg:path fill="#000000" d="M324,504.8c0-0.6-0.4-0.9-1.3-1l-11.4-1.6l-5.1-10.3c-0.3-0.6-0.7-0.9-1.1-0.9s-0.8,0.3-1.1,0.9       l-5.1,10.3l-11.4,1.6c-0.8,0.1-1.3,0.5-1.3,1c0,0.3,0.2,0.7,0.6,1.1l8.2,8l-1.9,11.3c0,0.2,0,0.4,0,0.5c0,0.3,0.1,0.6,0.2,0.8       c0.2,0.2,0.4,0.3,0.7,0.3c0.3,0,0.6-0.1,0.9-0.3l10.2-5.3l10.2,5.3c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0,0.5-0.1,0.7-0.3       c0.2-0.2,0.2-0.5,0.2-0.8c0-0.2,0-0.3,0-0.5l-1.9-11.3l8.2-8C323.8,505.5,324,505.2,324,504.8z" />
      <svg:path fill="#000000" d="M261.1,506.4v20h20.1v-20H261.1z M276.6,521.8h-10.9V511h10.9V521.8z" />
      <svg:path fill="#000000" d="M287.3,532.5v20h20.1v-20H287.3z M302.8,547.9h-10.9V537h10.9V547.9z" />
    </svg:g>
  </template>
  

  <template id='risk'>
    <back style='kite9-usage: decal; kite9-type: svg; '>
      <svg:rect x='0' y='0' width='{x1}' height='{y1}' rx='8' ry='8' style='fill: url(#risk-background); ' class="risk-back" />
    </back>
    <svg:g class="risk">
      <code>{@code}</code>
      <image />      
      <title>{@title}</title>
    </svg:g>
  </template>
  
  <template id='code'>
    <svg:g class="code-label-front">
      <front style="kite9-type: text; ">
        <contents />
      </front>
    </svg:g>
  </template>
  
  <template id='title'>
    <svg:g class="title-label-front">
      <front style="kite9-type: text; ">
        <contents />
      </front>
    </svg:g>
  </template>
    
  <template id="diagram">
    <svg:g filter="url(#dropshadow)">
      <contents />
    </svg:g>
  </template>

</svg:svg>